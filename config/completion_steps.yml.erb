student:
  pre_program_survey:
    complete_condition: "pre_survey_completed?"
    links:
      survey:
        url: <%= ENV.fetch("PRE_PROGRAM_SURVEY") { "#" } %>

      mark_complete:
        link_options:
          postfix_path: true
        tag_options:
          data:
            method: "put"

  parental_consent:
    complete_condition: "parental_consent_signed?"
    links: 
      resend:
        url: '#'
        tag_options:
          data:
            method: "post"

  create_join_team:
    complete_condition: "is_on_team?"
    prerequisites: "pre_program_survey, parental_consent"
    links: 
      create:
        url: <%= :new_student_team_path %>
      join:
        url: <%= :new_student_team_search_path %>

  find_mentor:
    complete_condition: "team_has_mentor?"
    prerequisites: "pre_program_survey, parental_consent, create_join_team"
    links:
      browse:
        url: <%= :student_mentor_search_path %>

mentor:
  consent_waiver:
    complete_condition: "consent_signed?"
    links:
      view:
        url: "#"

  background_check:
    complete_condition: "background_check_complete?"
    links:
      resend:
        url: "#"

  pre_program_survey:
    complete_condition: "pre_survey_completed?"
    links:
      survey:
        url: <%= ENV.fetch("PRE_PROGRAM_SURVEY") { "#" } %>

      mark_complete:
        link_options:
          postfix_path: true
        tag_options:
          data:
            method: "put"

  build_profile:
    prerequisites: "pre_program_survey, background_check, consent_waiver"
    complete_condition: "profile_complete?"
    links:
      photo:
        url: <%= :mentor_account_path %>
      bio:
        url: <%= :edit_mentor_account_path %>

  create_join_team:
    complete_condition: "is_on_team?"
    prerequisites: "pre_program_survey, background_check, pre_program_survey, build_profile, consent_waiver"
    links: 
      create:
        url: <%= :new_mentor_team_path %>
      join:
        url: <%= :new_mentor_team_search_path %>

regional_ambassador:
  consent_waiver:
    complete_condition: "consent_signed?"
    links:
      view:
        url: "#"

  background_check:
    complete_condition: "background_check_complete?"
    links:
      resend:
        url: "#"

  pre_program_survey:
    complete_condition: "pre_survey_completed?"
    links:
      survey:
        url: <%= ENV.fetch("PRE_PROGRAM_SURVEY") { "#" } %>

      mark_complete:
        url: <%= ["regional_ambassador_account_path", ["regional_ambassador", ["pre_survey_completed_at", "#{Time.current}"]]] %>
        link_options:
          postfix_path: true
        tag_options:
          data:
            method: "put"

  build_profile:
    prerequisites: "pre_program_survey, background_check, consent_waiver"
    complete_condition: "profile_complete?"
    links:
      photo:
        url: <%= :regional_ambassador_account_path %>
      bio:
        url: <%= :edit_regional_ambassador_account_path %>
