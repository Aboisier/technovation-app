<% if CompletionSteps.new(account).all?(&:complete?) %>
  <div class="pending-team-invitations">
    <h4><%= t("views.application.dashboards.show.pending_team_invitations") %></h4>

    <% if account.pending_team_invitations.any? %>
      <ul>
        <% account.pending_team_invitations.each do |invitation| %>
          <li>
            <%= invitation.team_name %>&nbsp;&ndash;

            <% %i{approved rejected}.each.with_index do |action, i| %>
              <%= link_to t("views.application.#{action}"),
                          send("#{account.type_name}_member_invite_path", invitation, status: action),
                          data: {
                            method: :put,
                            confirm: t("views.application.confirm_#{action}",
                                      name: invitation.team_name),
                          } %><% if i == 0 %>&nbsp;|<% end %>
            <% end %>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p><%= t("views.application.dashboards.show.no_pending_team_invitations") %></p>
    <% end %>

    <hr />

    <h4><%= t("views.application.dashboards.show.pending_team_requests") %></h4>

    <% if account.pending_team_requests.any? %>
      <ul>
        <% account.pending_team_requests.each do |team_request| %>
          <li><%= link_to team_request.team_name, team_request.team %></li>
        <% end %>
      </ul>
    <% else %>
      <p><%= t("views.application.dashboards.show.no_pending_team_requests") %></p>
      <%= unlocked_link_to account,
                          t("controllers.#{account.type_name}.team_searches.new.link"),
                          send("new_#{account.type_name}_team_search_path"),
                          class: "primary-button" %>
    <% end %>
  </div>
<% end %>
