<%
  ambassador ||= false
  user ||= ambassador
%>

<div id="ra-pitch-roster" class="tabs ra-pitch-event-participants-lists">
  <ul class="tab-menu">
    <% if event.division_names.include?("senior") %>
      <li class="tab-link">
        <button
          role="button"
          class="tab-button"
          data-tab-id="tab-ra-pitch-senior-teams">
          Senior Teams (<%= event.teams.senior.count %>)
        </button>
      </li>
    <% end %>

    <% if event.division_names.include?("junior") %>
      <li class="tab-link">
        <button
          role="button"
          class="tab-button"
          data-tab-id="tab-ra-pitch-junior-teams">
          Junior Teams (<%= event.teams.junior.count %>)
        </button>
      </li>
    <% end %>

    <li class="tab-link">
      <button
        role="button"
        class="tab-button"
        data-tab-id="tab-ra-pitch-judges">
        Judges (<%= event.judges.count %>)
      </button>
    </li>

    <% if ambassador %>
      <li class="tab-link">
        <button
          role="button"
          class="tab-button"
          data-tab-id="tab-ra-pitch-messages">
          Messages (<%=
            ambassador.messages.select(&:persisted?).count +
              ambassador.multi_messages.select(&:persisted?).count
          %>)
        </button>
      </li>
    <% end %>
  </ul>

  <div class="content">
    <% if event.division_names.include?("senior") %>
      <div class="tab-content" id="tab-ra-pitch-senior-teams">
        <%= render 'regional_ambassador/regional_pitch_events/team_list',
          user: user,
          ambassador: ambassador,
          pitch_event: event,
          division: :senior %>
      </div>
    <% end %>

    <% if event.division_names.include?("junior") %>
      <div class="tab-content" id="tab-ra-pitch-junior-teams">
        <%= render 'regional_ambassador/regional_pitch_events/team_list',
          user: user,
          ambassador: ambassador,
          pitch_event: event,
          division: :junior %>
      </div>
    <% end %>

    <div class="tab-content" id="tab-ra-pitch-judges">
      <div class="participants-list">
        <%= render 'regional_ambassador/regional_pitch_events/judge_list',
          user: user,
          ambassador: ambassador,
          pitch_event: event %>
      </div>
    </div>

    <% if ambassador %>
      <div class="tab-content" id="tab-ra-pitch-messages">
        <div class="messages-list">
          <%= render 'regional_ambassador/regional_pitch_events/message_list',
            user: user,
            ambassador: ambassador,
            pitch_event: event %>
        </div>
      </div>
    <% end %>
  </div>
</div>
