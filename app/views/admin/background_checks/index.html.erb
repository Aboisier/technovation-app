<div class="flex-row">
  <div class="flex-col-md-4">
    <div class="admin-search__filter-options">
      <label class="no-text-transform">
        Status:
        <%= select_tag :status,
                      options_for_select(BackgroundCheck.statuses.keys, params[:status]),
                      data: { reload: true, param: :status } %>
      </label>

      <p>
        <%= button_to "Sync with checkr", [:admin, :background_check_sweeps] %>
      </p>
    </div>
  </div>

  <div class="flex-col-md-8 wrapper__report-column">
    <div class="scrolly-table">
      <div class="scrolly-table__overflow-handler">
        <table class="table__report_table">
          <thead>
            <tr>
              <th>Account ID</th>
              <th>Account type</th>
              <th>Email</th>
              <th>Status</th>
            </tr>
          </thead>

          <tbody>
            <% @background_checks.each do |bg_check| %>
              <% cache(bg_check) do %>
                <tr>
                  <td><%= bg_check.account_id %></td>
                  <td><%= bg_check.account.type_name %></td>
                  <td><%= bg_check.account.email %></td>
                  <td><%= bg_check.status %></td>
                </tr>
              <% end %>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>

    <div class="wrapper__report-footer">
      <div class="pagination_info">
        <%= page_entries_info @background_checks,
          model: params[:type] == "All" ? "BackgroundCheck" : params[:type] %>
      </div>

      <label class="no-text-transform per_page">
        Per page:
        <%= select_tag :per_page,
          options_for_select([10, 25, 50, 100], params[:per_page]),
          data: {
            reload: true,
            param: :per_page,
          } %>
      </label>
    </div>
  </div>
</div>
